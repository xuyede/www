<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
</head>
<body>
    <!-- 
            1.TCP三次握手

                ->  三次握手主要目的确认通信双方是否都具备收和发的功能

                    A ：客户端  B ：服务端

                第一次握手 ：A 向 B发送两条信息 
                                1)建立连接请求(SYN=1) 
                                2)一个A的序列号(seq=n)  
                                    -> 让 B 知道 A 可以发出信息
                
                第二次握手 ：B 向 A发送三条信息
                                1)同意建立连接(SYN=1)
                                2)A的序列号加一,告诉A收到了请求(ack=n+1)
                                3)一个B的序列号(seq=m)
                                    -> 让 A 知道 B 可以收到和发送信息

                第三次握手 ：A 向 B 发送三条信息
                                1)开始发送数据(SYN=0)
                                2)B的序列号加一，告诉B收到了回应(ack=m+1)
                                3)A最开始的序列号+1(seq=n+1)
                                    -> 让 B 知道 A 可以收到信息

                #           A              B
                收      第三次握手      第二次握手  
                发      第一次握手      第二次握手


            2.TCP四次挥手

                ->  四次挥手核心在于四个时间节点：发完了、知道发完了(还没全部接收完数据)、收完了、知道收完了

                    A ：客户端  B ：服务端

                第一次挥手 ：B 向 A 传送数据，当传送完成后不能直接断开，因为 B 不知道数据是否传送完了
                                B 告诉 A ："我数据全部传送完了"
                                    -> B 告诉 A ，我已经传送完数据了
                                    
                第二次挥手 ：A 收到 B "已经传送完了"的信号，但还没有完全接收完数据，只能先回复一下 B
                                A 告诉 B ："我知道你发完了"
                                    -> A 已经知道 B 发完了

                第三次挥手 ：B 不确定 A 是否已经完全接收完数据，所以要等待 A 的回复，A 在完全接收完数据后
                                A 告诉 B ："我已经接收完了全部数据"
                                    -> A 告诉 B ，我已经接收完全部数据了

                第四次挥手 ：B 收到 A ："已经接收完了"的信号，断开连接
                                B 告诉 A ："我知道你接收完了"
                                    -> B 已经知道 A 接收完了

                #               A                            B
                发      第一次挥手（发完了）           第二次挥手（知道发完了）
                收      第四次挥手（知道收完了）       第三次挥手（收完了）
     -->
</body>
</html>